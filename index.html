<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Integrated Presentation - Laith Alobaidi Group</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Cairo:wght@300;400;600;700;800;900&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --primary: #6366f1;
        --secondary: #06b6d4;
        --accent: #f59e0b;
        --success: #10b981;
        --danger: #ef4444;
        --dark: #0b1223;
        --dark2: #0f172a;
        --glass: rgba(255, 255, 255, 0.08);
        --glass2: rgba(255, 255, 255, 0.04);
        --glass-border: rgba(255, 255, 255, 0.14);
        --text: #f1f5f9;
        --muted: #94a3b8;
        --shadow: 0 30px 80px rgba(0, 0, 0, 0.48);
        --hero: linear-gradient(135deg, #14162b 0%, #16213e 45%, #0f3460 100%);
        --radius: 22px;
      }
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }
      html,
      body {
        height: 100%;
      }
      body {
        font-family:
          Inter,
          Cairo,
          system-ui,
          -apple-system,
          Segoe UI,
          Roboto,
          Arial,
          sans-serif;
        background: var(--dark2);
        color: var(--text);
        overflow: auto;
      }

      /* background */
      .bg {
        position: fixed;
        inset: 0;
        z-index: -1;
        background: var(--hero);
        overflow: hidden;
      }
      .bg::before,
      .bg::after {
        content: "";
        position: absolute;
        border-radius: 50%;
        filter: blur(110px);
        opacity: 0.95;
        animation: float 18s ease-in-out infinite;
      }
      .bg::before {
        width: 720px;
        height: 720px;
        background: rgba(99, 102, 241, 0.28);
        top: -280px;
        left: -280px;
      }
      .bg::after {
        width: 650px;
        height: 650px;
        background: rgba(6, 182, 212, 0.22);
        bottom: -280px;
        right: -280px;
        animation-delay: -9s;
      }
      @keyframes float {
        0%,
        100% {
          transform: translate(0, 0) rotate(0);
        }
        25% {
          transform: translate(-70px, 45px) rotate(-6deg);
        }
        50% {
          transform: translate(0, 120px) rotate(0);
        }
        75% {
          transform: translate(70px, 45px) rotate(6deg);
        }
      }

      /* layout */
      :root {
        --sidebar: clamp(240px, 22vw, 320px);
      }

      .app {
        height: 100%;
        display: grid;
        grid-template-columns: var(--sidebar) 1fr;
      }

      /* sidebar */
      .side {
        padding: 18px;
        border-right: 1px solid rgba(255, 255, 255, 0.1);
        background: rgba(15, 23, 42, 0.55);
        backdrop-filter: blur(16px);
      }
      .brand {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 10px;
        padding: 14px 14px;
        border-radius: 18px;
        border: 1px solid rgba(255, 255, 255, 0.12);
        background: rgba(255, 255, 255, 0.04);
        box-shadow: 0 12px 40px rgba(0, 0, 0, 0.25);
        margin-bottom: 14px;
      }
      .brand h1 {
        font-size: 16px;
        font-weight: 900;
        line-height: 1.2;
        background: linear-gradient(135deg, #fff, #a5b4fc, #06b6d4);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
      }
      .brand .hint {
        color: var(--muted);
        font-size: 12px;
        margin-top: 4px;
      }

      .pill {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 8px 12px;
        border-radius: 999px;
        border: 1px solid rgba(6, 182, 212, 0.4);
        background: rgba(6, 182, 212, 0.12);
        color: var(--text);
        font-weight: 900;
        font-size: 12px;
        white-space: nowrap;
      }

      .nav {
        display: grid;
        gap: 10px;
      }

      .navbtn {
        display: flex;
        gap: 12px;
        align-items: flex-start;
        padding: 12px 12px;
        border-radius: 18px;
        cursor: pointer;
        border: 1px solid rgba(255, 255, 255, 0.12);
        background: rgba(255, 255, 255, 0.035);
        transition:
          transform 0.15s ease,
          border-color 0.15s ease,
          background 0.15s ease;
        user-select: none;
      }
      .navbtn:hover {
        transform: translateY(-1px);
        border-color: rgba(6, 182, 212, 0.55);
        background: rgba(255, 255, 255, 0.05);
      }
      .navbtn.active {
        border-color: rgba(99, 102, 241, 0.7);
        background: rgba(99, 102, 241, 0.1);
      }

      .ic {
        width: 42px;
        height: 42px;
        border-radius: 16px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 18px;
        font-weight: 900;
        background: rgba(255, 255, 255, 0.04);
        border: 1px solid rgba(255, 255, 255, 0.12);
        flex: 0 0 auto;
      }

      .ntitle {
        font-weight: 900;
        font-size: 14px;
        line-height: 1.25;
      }
      .ndesc {
        color: var(--muted);
        font-size: 12.5px;
        line-height: 1.6;
        margin-top: 4px;
      }
      .kbd {
        margin-top: 14px;
        padding: 12px;
        border-radius: 18px;
        border: 1px solid rgba(255, 255, 255, 0.12);
        background: rgba(255, 255, 255, 0.03);
      }
      .kbd h3 {
        font-size: 12px;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        color: rgba(148, 163, 184, 0.95);
        margin-bottom: 8px;
      }
      .krow {
        display: flex;
        justify-content: space-between;
        gap: 10px;
        margin: 6px 0;
        color: var(--muted);
        font-size: 12.5px;
      }
      code.key {
        font-family:
          ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
          "Liberation Mono", "Courier New", monospace;
        color: var(--text);
        background: rgba(255, 255, 255, 0.06);
        border: 1px solid rgba(255, 255, 255, 0.12);
        padding: 2px 8px;
        border-radius: 8px;
        font-weight: 800;
      }

      /* main */
      .main {
        padding: 18px;
        display: flex;
        flex-direction: column;
        gap: 12px;
      }

      .topbar {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 10px;
        padding: 12px 14px;
        border-radius: 18px;
        border: 1px solid rgba(255, 255, 255, 0.12);
        background: rgba(255, 255, 255, 0.04);
        backdrop-filter: blur(14px);
      }
      .titleWrap {
        display: flex;
        flex-direction: column;
        gap: 2px;
        min-width: 0;
      }
      .topTitle {
        font-size: 15px;
        font-weight: 900;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }
      .topSub {
        color: var(--muted);
        font-size: 12.5px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }
      .actions {
        display: flex;
        gap: 8px;
        align-items: center;
        flex: 0 0 auto;
      }

      .abtn {
        height: 40px;
        padding: 0 12px;
        border-radius: 14px;
        border: 1px solid rgba(255, 255, 255, 0.16);
        background: rgba(255, 255, 255, 0.06);
        color: var(--text);
        font-weight: 900;
        cursor: pointer;
        display: inline-flex;
        align-items: center;
        gap: 8px;
      }
      .abtn:hover {
        border-color: rgba(6, 182, 212, 0.55);
      }

      .stage {
        flex: 1;
        border-radius: var(--radius);
        overflow: hidden;
        border: 1px solid rgba(255, 255, 255, 0.12);
        background: rgba(255, 255, 255, 0.03);
        box-shadow: var(--shadow);
        position: relative;
      }

      iframe {
        width: 100%;
        height: 100%;
        border: 0;
        background: transparent;
      }

      /* home overlay */
      .home {
        position: absolute;
        inset: 0;
        display: none;
        padding: 22px;
        background: linear-gradient(
          180deg,
          rgba(15, 23, 42, 0.92),
          rgba(15, 23, 42, 0.68)
        );
        backdrop-filter: blur(14px);
      }
      .home.show {
        display: block;
      }
      .heroTitle {
        font-size: 30px;
        font-weight: 950;
        line-height: 1.15;
        background: linear-gradient(135deg, #fff, #a5b4fc, #06b6d4);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        margin-top: 4px;
      }
      .heroSub {
        color: var(--muted);
        max-width: 950px;
        margin-top: 10px;
        line-height: 1.8;
      }
      .cards {
        margin-top: 18px;
        display: grid;
        grid-template-columns: repeat(2, minmax(0, 1fr));
        gap: 12px;
      }
      .card {
        border-radius: 20px;
        border: 1px solid rgba(255, 255, 255, 0.12);
        background: rgba(255, 255, 255, 0.04);
        padding: 14px;
        display: flex;
        gap: 12px;
        cursor: pointer;
        transition:
          transform 0.15s ease,
          border-color 0.15s ease,
          background 0.15s ease;
      }
      .card:hover {
        transform: translateY(-1px);
        border-color: rgba(6, 182, 212, 0.55);
        background: rgba(255, 255, 255, 0.06);
      }
      .card .cic {
        width: 46px;
        height: 46px;
        border-radius: 18px;
        display: flex;
        align-items: center;
        justify-content: center;
        border: 1px solid rgba(255, 255, 255, 0.12);
        background: rgba(255, 255, 255, 0.03);
        font-size: 20px;
      }
      .card .ct {
        font-weight: 900;
      }
      .card .cs {
        color: var(--muted);
        font-size: 12.5px;
        line-height: 1.55;
        margin-top: 4px;
      }

      /* Language toggle */
      .lang-toggle {
        display: flex;
        gap: 8px;
        margin-top: 12px;
      }
      .lang-btn {
        padding: 6px 12px;
        border-radius: 12px;
        border: 1px solid rgba(255, 255, 255, 0.16);
        background: rgba(255, 255, 255, 0.06);
        color: var(--text);
        font-weight: 700;
        cursor: pointer;
        transition: all 0.2s ease;
      }
      .lang-btn.active {
        background: var(--primary);
        border-color: var(--primary);
      }
      .lang-btn:hover:not(.active) {
        background: rgba(255, 255, 255, 0.1);
      }

      @media (max-width: 980px) {
        body {
          overflow: auto;
        }
        .app {
          grid-template-columns: 1fr;
          overflow: auto;
        }
        .side {
          position: sticky;
          top: 0;
        }
        .main {
          min-height: calc(100vh - 0px);
        }
        .cards {
          grid-template-columns: 1fr;
        }
        .stage {
          min-height: 70vh;
        }
      }
    </style>
  </head>
  <body>
    <div class="bg"></div>

    <div class="app">
      <aside class="side">
        <div class="brand">
          <div>
            <h1>Integrated Product Presentation</h1>
            <div class="hint">All modules in one clean deck</div>
          </div>
          <div class="pill" title="Keyboard: 1-7 to switch">‚å®Ô∏è 1‚Äì7</div>
        </div>

        <div class="nav" id="nav"></div>

        <div class="kbd">
          <h3>Shortcuts</h3>
          <div class="krow">
            <span>Open Home</span><code class="key">H</code>
          </div>
          <div class="krow">
            <span>Switch Module</span><code class="key">1</code>‚Äì<code
              class="key"
              >7</code
            >
          </div>
          <div class="krow">
            <span>Prev / Next Module</span><code class="key">Ctrl</code>+<code
              class="key"
              >‚Üê</code
            >
            / <code class="key">‚Üí</code>
          </div>
          <div class="krow">
            <span>Fullscreen</span><code class="key">F</code>
          </div>
          <div class="krow">
            <span>Tip</span
            ><span>Use arrows inside each module to change slides</span>
          </div>
        </div>
      </aside>

      <main class="main">
        <div class="topbar">
          <div class="titleWrap">
            <div class="topTitle" id="topTitle">Home</div>
            <div class="topSub" id="topSub">Choose a module from the left</div>
          </div>
          <div class="actions">
            <button class="abtn" id="btnHome" title="Home (H)">üè† Home</button>
            <button class="abtn" id="btnOpen" title="Open in new tab">
              üîó Open
            </button>
            <button class="abtn" id="btnFull" title="Fullscreen (F)">
              ‚õ∂ Fullscreen
            </button>
          </div>
        </div>

        <div class="stage" id="stage">
          <iframe
            id="frame"
            src="about:blank"
            sandbox="allow-scripts allow-same-origin allow-forms allow-popups"
          ></iframe>

          <section class="home show" id="home">
            <div class="pill">
              ‚ú® Unified navigation ‚Ä¢ consistent look ‚Ä¢ clean demo flow
            </div>
            <div class="heroTitle">One presentation. six modules.</div>

            <!-- Language Toggle -->
            <div class="lang-toggle">
              <button class="lang-btn active" data-lang="en">English</button>
              <button class="lang-btn" data-lang="ar">ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</button>
            </div>

            <div class="heroSub" id="heroDescription">
              This integrated presentation showcases the comprehensive IT
              solutions developed by the IT Department of Laith Alobaidi Group.
              Our team has successfully implemented cutting-edge systems across
              automotive CRM, inventory management, digital marketing analytics,
              task automation, website lead generation, and WhatsApp business
              communications. Each module represents a strategic initiative that
              enhances operational efficiency, customer engagement, and
              data-driven decision making throughout our organization.
            </div>

            <div class="cards" id="homeCards"></div>
          </section>
        </div>
      </main>
    </div>

    <script>
      const modules = [
        {
          id: "crm",
          title: {
            en: "Automotive CRM System",
            ar: "ŸÜÿ∏ÿßŸÖ ÿ•ÿØÿßÿ±ÿ© ÿπŸÑÿßŸÇÿßÿ™ ÿßŸÑÿπŸÖŸÑÿßÿ° ŸÑŸÑÿ≥Ÿäÿßÿ±ÿßÿ™",
          },
          desc: {
            en: "Arabic landing-style overview: features, pipeline, automation, ROI, and security roles.",
            ar: "ŸÜÿ∏ÿ±ÿ© ÿπÿßŸÖÿ© ÿ®ŸÜŸÖÿ∑ ÿßŸÑŸáÿ®Ÿàÿ∑ ÿ®ÿßŸÑŸÑÿ∫ÿ© ÿßŸÑÿπÿ±ÿ®Ÿäÿ©: ÿßŸÑŸÖŸäÿ≤ÿßÿ™ÿå ÿÆÿ∑ ÿßŸÑÿ£ŸÜÿßÿ®Ÿäÿ®ÿå ÿßŸÑÿ£ÿ™ŸÖÿ™ÿ©ÿå ÿßŸÑÿπÿßÿ¶ÿØ ÿπŸÑŸâ ÿßŸÑÿßÿ≥ÿ™ÿ´ŸÖÿßÿ±ÿå Ÿàÿ£ÿØŸàÿßÿ± ÿßŸÑÿ£ŸÖÿßŸÜ.",
          },
          icon: "üöó",
          file: "CRM_Presentation.html",
        },
        {
          id: "dash",
          title: {
            en: "Inventory & Sales Dashboard",
            ar: "ŸÑŸàÿ≠ÿ© ÿ™ÿ≠ŸÉŸÖ ÿßŸÑŸÖÿÆÿ≤ŸàŸÜ ŸàÿßŸÑŸÖÿ®Ÿäÿπÿßÿ™",
          },
          desc: {
            en: "10-slide dashboard presentation: KPIs, car data, status, colors/models, customer types, ranking, reports.",
            ar: "ÿπÿ±ÿ∂ ÿ™ŸÇÿØŸäŸÖŸä ŸÖŸÜ 10 ÿ¥ÿ±ÿßÿ¶ÿ≠ ŸÑŸÑŸàÿ≠ÿ© ÿßŸÑÿ™ÿ≠ŸÉŸÖ: ŸÖÿ§ÿ¥ÿ±ÿßÿ™ ÿßŸÑÿ£ÿØÿßÿ° ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©ÿå ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿ≥Ÿäÿßÿ±ÿßÿ™ÿå ÿßŸÑÿ≠ÿßŸÑÿ©ÿå ÿßŸÑÿ£ŸÑŸàÿßŸÜ/ÿßŸÑŸÖŸàÿØŸäŸÑÿßÿ™ÿå ÿ£ŸÜŸàÿßÿπ ÿßŸÑÿπŸÖŸÑÿßÿ°ÿå ÿßŸÑÿ™ÿµŸÜŸäŸÅÿå ÿßŸÑÿ™ŸÇÿßÿ±Ÿäÿ±.",
          },
          icon: "üìä",
          file: "dashSAP.html",
        },
        {
          id: "meta",
          title: {
            en: "Meta Ads Library Tracking",
            ar: "ÿ™ÿ™ÿ®ÿπ ŸÖŸÉÿ™ÿ®ÿ© ÿ•ÿπŸÑÿßŸÜÿßÿ™ ŸÖŸäÿ™ÿß",
          },
          desc: {
            en: "5-slide workflow: extract fields, pipeline, classify by brand keywords, export to Excel.",
            ar: "ÿ≥Ÿäÿ± ÿπŸÖŸÑ ŸÖŸÜ 5 ÿ¥ÿ±ÿßÿ¶ÿ≠: ÿßÿ≥ÿ™ÿÆÿ±ÿßÿ¨ ÿßŸÑÿ≠ŸÇŸàŸÑÿå ÿÆÿ∑ ÿßŸÑÿ£ŸÜÿßÿ®Ÿäÿ®ÿå ÿßŸÑÿ™ÿµŸÜŸäŸÅ ÿ≠ÿ≥ÿ® ŸÉŸÑŸÖÿßÿ™ ÿßŸÑÿπŸÑÿßŸÖÿ© ÿßŸÑÿ™ÿ¨ÿßÿ±Ÿäÿ©ÿå ÿßŸÑÿ™ÿµÿØŸäÿ± ÿ•ŸÑŸâ ÿ•ŸÉÿ≥ŸÑ.",
          },
          icon: "üì£",
          file: "meta-ads.html",
        },
        {
          id: "tasks",
          title: {
            en: "CRM Tasks Manager",
            ar: "ŸÖÿØŸäÿ± ŸÖŸáÿßŸÖ ŸÜÿ∏ÿßŸÖ ÿ•ÿØÿßÿ±ÿ© ÿπŸÑÿßŸÇÿßÿ™ ÿßŸÑÿπŸÖŸÑÿßÿ°",
          },
          desc: {
            en: "5 slides: filtering, description verification, tracking tables, task details & Excel reports.",
            ar: "5 ÿ¥ÿ±ÿßÿ¶ÿ≠: ÿßŸÑÿ™ÿµŸÅŸäÿ©ÿå ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿßŸÑŸàÿµŸÅÿå ÿ¨ÿØÿßŸàŸÑ ÿßŸÑÿ™ÿ™ÿ®ÿπÿå ÿ™ŸÅÿßÿµŸäŸÑ ÿßŸÑŸÖŸáÿßŸÖ ŸàÿßŸÑÿ™ŸÇÿßÿ±Ÿäÿ± ÿßŸÑÿ•ŸÉÿ≥ŸÑ.",
          },
          icon: "‚úÖ",
          file: "tasks.html",
        },
        {
          id: "web",
          title: {
            en: "Websites Lead Flow",
            ar: "ÿ™ÿØŸÅŸÇ ÿßŸÑÿπŸÖŸÑÿßÿ° ŸÖŸÜ ÿßŸÑŸÖŸàŸÇÿπ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä",
          },
          desc: {
            en: "5 slides: website purpose, structured specs, forms, data flow to Excel/CRM, call-center workflow.",
            ar: "5 ÿ¥ÿ±ÿßÿ¶ÿ≠: ÿ∫ÿ±ÿ∂ ÿßŸÑŸÖŸàŸÇÿπÿå ÿßŸÑŸÖŸàÿßÿµŸÅÿßÿ™ ÿßŸÑŸÖŸÜÿ∏ŸÖÿ©ÿå ÿßŸÑŸÜŸÖÿßÿ∞ÿ¨ÿå ÿ™ÿØŸÅŸÇ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿ•ŸÑŸâ ÿ•ŸÉÿ≥ŸÑ/ŸÜÿ∏ÿßŸÖ ÿ•ÿØÿßÿ±ÿ© ÿπŸÑÿßŸÇÿßÿ™ ÿßŸÑÿπŸÖŸÑÿßÿ°ÿå ÿ≥Ÿäÿ± ÿπŸÖŸÑ ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿßÿ™ÿµÿßŸÑ.",
          },
          icon: "üåê",
          file: "websites.html",
        },
        {
          id: "whatsapp",
          title: {
            en: "WhatsApp Business Platform",
            ar: "ŸÖŸÜÿµÿ© Ÿàÿßÿ™ÿ≥ÿßÿ® ŸÑŸÑÿ£ÿπŸÖÿßŸÑ",
          },
          desc: {
            en: "WhatsApp Business API platform: bulk messaging, tracking, analytics, integrations (AR + EN).",
            ar: "ŸÖŸÜÿµÿ© Ÿàÿßÿ¨Ÿáÿ© ÿ®ÿ±ŸÖÿ¨ÿ© ÿ™ÿ∑ÿ®ŸäŸÇÿßÿ™ Ÿàÿßÿ™ÿ≥ÿßÿ® ŸÑŸÑÿ£ÿπŸÖÿßŸÑ: ÿßŸÑÿ±ÿ≥ÿßÿ¶ŸÑ ÿßŸÑÿ¨ŸÖÿßÿπŸäÿ©ÿå ÿßŸÑÿ™ÿ™ÿ®ÿπÿå ÿßŸÑÿ™ÿ≠ŸÑŸäŸÑÿßÿ™ÿå ÿßŸÑÿ™ŸÉÿßŸÖŸÑÿßÿ™ (ÿπÿ±ÿ®Ÿä + ÿ•ŸÜÿ¨ŸÑŸäÿ≤Ÿä).",
          },
          icon: "üí¨",
          file: "whatsappPlatform.html",
        },
        {
          id: "referralpro",
          title: { en: "ReferralPro System", ar: "ŸÜÿ∏ÿßŸÖ ReferralPro ŸÑŸÑÿ•ÿ≠ÿßŸÑÿßÿ™" },
          desc: {
            en: "Referral & rewards platform: referral tracking, approvals, QR certificates, roles, and dashboards.",
            ar: "ŸÖŸÜÿµÿ© ÿ•ÿ≠ÿßŸÑÿßÿ™ ŸàŸÖŸÉÿßŸÅÿ¢ÿ™: ÿ™ÿ™ÿ®ÿπ ÿßŸÑÿ•ÿ≠ÿßŸÑÿßÿ™ÿå ÿßŸÑŸÖŸàÿßŸÅŸÇÿßÿ™ÿå ÿ¥ŸáÿßÿØÿßÿ™ QRÿå ÿßŸÑÿ£ÿØŸàÿßÿ± ŸàŸÑŸàÿ≠ÿßÿ™ ÿßŸÑÿ£ÿØÿßÿ°.",
          },
          icon: "üéÅ",
          file: "referralpro.html",
        },
      ];

      // Updated descriptions for Laith Alobaidi Group
      const descriptions = {
        en: "This integrated presentation showcases the comprehensive IT solutions developed by the IT Department of Laith Alobaidi Group. Our team has successfully implemented cutting-edge systems across automotive CRM, inventory management, digital marketing analytics, task automation, website lead generation, and WhatsApp business communications. Each module represents a strategic initiative that enhances operational efficiency, customer engagement, and data-driven decision making throughout our organization.",
        ar: "Ÿäÿπÿ±ÿ∂ Ÿáÿ∞ÿß ÿßŸÑÿπÿ±ÿ∂ ÿßŸÑÿ™ŸÇÿØŸäŸÖŸä ÿßŸÑŸÖÿ™ŸÉÿßŸÖŸÑ ÿßŸÑÿ≠ŸÑŸàŸÑ ÿßŸÑÿ™ŸÇŸÜŸäÿ© ÿßŸÑÿ¥ÿßŸÖŸÑÿ© ÿßŸÑÿ™Ÿä ÿ∑Ÿàÿ±Ÿáÿß ŸÇÿ≥ŸÖ ÿ™ŸÉŸÜŸàŸÑŸàÿ¨Ÿäÿß ÿßŸÑŸÖÿπŸÑŸàŸÖÿßÿ™ ŸÅŸä ŸÖÿ¨ŸÖŸàÿπÿ© ŸÑŸäÿ´ ÿßŸÑÿπÿ®ŸäÿØŸä. ŸÜÿ¨ÿ≠ ŸÅÿ±ŸäŸÇŸÜÿß ŸÅŸä ÿ™ŸÜŸÅŸäÿ∞ ÿ£ŸÜÿ∏ŸÖÿ© ŸÖÿ™ÿ∑Ÿàÿ±ÿ© ŸÅŸä ŸÖÿ¨ÿßŸÑÿßÿ™ ÿ•ÿØÿßÿ±ÿ© ÿπŸÑÿßŸÇÿßÿ™ ÿßŸÑÿπŸÖŸÑÿßÿ° ŸÑŸÑÿ≥Ÿäÿßÿ±ÿßÿ™ÿå Ÿàÿ•ÿØÿßÿ±ÿ© ÿßŸÑŸÖÿÆÿ≤ŸàŸÜÿå Ÿàÿ™ÿ≠ŸÑŸäŸÑÿßÿ™ ÿßŸÑÿ™ÿ≥ŸàŸäŸÇ ÿßŸÑÿ±ŸÇŸÖŸäÿå Ÿàÿ£ÿ™ŸÖÿ™ÿ© ÿßŸÑŸÖŸáÿßŸÖÿå Ÿàÿ™ŸàŸÑŸäÿØ ÿßŸÑÿπŸÖŸÑÿßÿ° ŸÖŸÜ ÿßŸÑŸÖŸàÿßŸÇÿπ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸäÿ©ÿå Ÿàÿßÿ™ÿµÿßŸÑÿßÿ™ ÿ£ÿπŸÖÿßŸÑ Ÿàÿßÿ™ÿ≥ÿßÿ®. ŸäŸÖÿ´ŸÑ ŸÉŸÑ Ÿàÿ≠ÿØÿ© ŸÖÿ®ÿßÿØÿ±ÿ© ÿßÿ≥ÿ™ÿ±ÿßÿ™Ÿäÿ¨Ÿäÿ© ÿ™ÿπÿ≤ÿ≤ ÿßŸÑŸÉŸÅÿßÿ°ÿ© ÿßŸÑÿ™ÿ¥ÿ∫ŸäŸÑŸäÿ©ÿå Ÿàÿ™ŸÅÿßÿπŸÑ ÿßŸÑÿπŸÖŸÑÿßÿ°ÿå Ÿàÿßÿ™ÿÆÿßÿ∞ ÿßŸÑŸÇÿ±ÿßÿ±ÿßÿ™ ÿßŸÑŸÇÿßÿ¶ŸÖÿ© ÿπŸÑŸâ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ŸÅŸä ÿ¨ŸÖŸäÿπ ÿ£ŸÜÿ≠ÿßÿ° ŸÖÿ§ÿ≥ÿ≥ÿ™ŸÜÿß.",
      };

      const nav = document.getElementById("nav");
      const home = document.getElementById("home");
      const homeCards = document.getElementById("homeCards");
      const frame = document.getElementById("frame");
      const topTitle = document.getElementById("topTitle");
      const topSub = document.getElementById("topSub");
      const btnHome = document.getElementById("btnHome");
      const btnFull = document.getElementById("btnFull");
      const btnOpen = document.getElementById("btnOpen");
      const heroDescription = document.getElementById("heroDescription");
      const langButtons = document.querySelectorAll(".lang-btn");

      let current = -1; // -1 = home
      let currentLang = "en";

      // ===== Global language sync keys =====
      const STORAGE_KEY = "global_lang";
      const CHANNEL = "GLOBAL_LANG_SYNC_V1";

      function broadcastLangToIframe(lang) {
        // store
        try {
          localStorage.setItem(STORAGE_KEY, lang);
        } catch (_) {}

        // send to iframe
        try {
          if (frame && frame.contentWindow) {
            frame.contentWindow.postMessage({ type: CHANNEL, lang }, "*");
          }
        } catch (_) {}
      }

      // ===== UI helpers =====
      function setActiveNav() {
        [...nav.querySelectorAll(".navbtn")].forEach((b, i) =>
          b.classList.toggle("active", i === current),
        );
      }

      function updateDescription() {
        heroDescription.textContent = descriptions[currentLang];
      }

      function showHome() {
        current = -1;
        home.classList.add("show");
        frame.src = "about:blank";

        topTitle.textContent = currentLang === "en" ? "Home" : "ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©";
        topSub.textContent =
          currentLang === "en"
            ? "Choose a module from the left"
            : "ÿßÿÆÿ™ÿ± Ÿàÿ≠ÿØÿ© ŸÖŸÜ ÿßŸÑŸäÿ≥ÿßÿ±";

        btnOpen.disabled = true;
        setActiveNav();
        updateDescription();
      }

      function openModule(i) {
        const m = modules[i];
        if (!m) return;

        current = i;
        home.classList.remove("show");
        frame.src = m.file;

        topTitle.textContent = m.title[currentLang];
        topSub.textContent = m.desc[currentLang];

        btnOpen.disabled = false;
        setActiveNav();

        // push current language after iframe navigates
        setTimeout(() => broadcastLangToIframe(currentLang), 80);
      }

      function openInNewTab() {
        if (current < 0) return;
        window.open(modules[current].file, "_blank");
      }

      function toggleFullscreen() {
        const el = document.getElementById("stage");
        if (!document.fullscreenElement) el.requestFullscreen?.();
        else document.exitFullscreen?.();
      }

      function setLanguage(lang) {
        currentLang = lang === "ar" ? "ar" : "en";

        // buttons
        langButtons.forEach((btn) => {
          btn.classList.toggle("active", btn.dataset.lang === currentLang);
        });

        // update home/module text
        if (current === -1) {
          showHome();
        } else {
          const m = modules[current];
          topTitle.textContent = m.title[currentLang];
          topSub.textContent = m.desc[currentLang];
        }

        // update navigation + cards
        const navItems = nav.querySelectorAll(".navbtn");
        const cardItems = homeCards.querySelectorAll(".card");

        modules.forEach((m, i) => {
          if (navItems[i]) {
            navItems[i].querySelector(".ntitle").textContent =
              `${i + 1}. ${m.title[currentLang]}`;
            navItems[i].querySelector(".ndesc").textContent =
              m.desc[currentLang];
          }
          if (cardItems[i]) {
            cardItems[i].querySelector(".ct").textContent =
              `${i + 1}. ${m.title[currentLang]}`;
            cardItems[i].querySelector(".cs").textContent = m.desc[currentLang];
          }
        });

        // ‚úÖ push language to iframe pages
        broadcastLangToIframe(currentLang);
      }

      // ===== Build sidebar + home cards (once) =====
      modules.forEach((m, i) => {
        const b = document.createElement("div");
        b.className = "navbtn";
        b.innerHTML = `
      <div class="ic">${m.icon}</div>
      <div style="min-width:0">
        <div class="ntitle">${i + 1}. ${m.title.en}</div>
        <div class="ndesc">${m.desc.en}</div>
      </div>
    `;
        b.addEventListener("click", () => openModule(i));
        nav.appendChild(b);

        const c = document.createElement("div");
        c.className = "card";
        c.innerHTML = `
      <div class="cic">${m.icon}</div>
      <div style="min-width:0">
        <div class="ct">${i + 1}. ${m.title.en}</div>
        <div class="cs">${m.desc.en}</div>
      </div>
    `;
        c.addEventListener("click", () => openModule(i));
        homeCards.appendChild(c);
      });

      // ===== Language buttons =====
      langButtons.forEach((btn) => {
        btn.addEventListener("click", () => setLanguage(btn.dataset.lang));
      });

      // ===== Actions =====
      btnHome.addEventListener("click", showHome);
      btnFull.addEventListener("click", toggleFullscreen);
      btnOpen.addEventListener("click", openInNewTab);

      // ===== Keyboard =====
      window.addEventListener("keydown", (e) => {
        const k = e.key;

        if (k === "h" || k === "H") return showHome();
        if (k === "f" || k === "F") return toggleFullscreen();

        // ‚úÖ updated to 1‚Äì7
        if (k >= "1" && k <= "7") return openModule(parseInt(k, 10) - 1);

        if (e.ctrlKey && (k === "ArrowRight" || k === "ArrowLeft")) {
          e.preventDefault();
          if (current < 0) return openModule(0);
          const step = k === "ArrowRight" ? 1 : -1;
          openModule((current + step + modules.length) % modules.length);
        }
      });

      // ===== Init language from storage =====
      (function initLang() {
        let saved = null;
        try {
          saved = localStorage.getItem(STORAGE_KEY);
        } catch (_) {}

        // default EN if nothing saved
        setLanguage(saved === "ar" ? "ar" : "en");
      })();

      // ===== Init home =====
      showHome();
    </script>
  </body>
</html>
